<div class="chart-content">
    <div *ngFor="let dayData of forecastData" class="day-container">
        <div class="day-cell">
            {{dayData.timestamp}}
        </div>
        <div class="column" *ngFor="let hourData of dayData.data">
            <div class="hour-cell">
                {{hourData.timestamp | date: 'HH:mm'}}
            </div>
            <div class="forecast-cell">
                <img src="assets/cloudy.png">
            </div>
            <div class="temperature-cell"></div>
            <div class="rainfall-cell">
                <div 
                    class="rainfall-chart" 
                    [ngStyle]="{'height': hourData.rainfall * 100/5 + '%'}"
                >
                    <span>{{ hourData.rainfall }} mm</span>
                </div>
            </div>
            <div class="wind-dir-cell">
                <div class="wind-arrow">
                    <img 
                        src="assets/wind-arrow.PNG" 
                        [ngStyle]="{'transform': 'rotate(' + hourData.windDirection * 45 + 'deg)' }"
                    >
                </div>
                <span>{{ hourData.windDirection | windDirection}}</span>
            </div>
            <div class="wind-speed-cell">
                <span>{{hourData.windLevel}}</span>
                <br>
                <span>{{hourData.windSpeed}} km/h</span>
            </div>
            <div class="pressure-cell"></div>
        </div>
    </div>
    
    <svg class="temperature-chart">
        <g *ngFor="let value of tempValues; index as i">
            <line *ngIf="tempValues[i+1]"
                [attr.x1]="getLineX(i)" 
                [attr.y1]="getTempLineY(value)" 
                [attr.x2]="getLineX(i + 1)" 
                [attr.y2]="getTempLineY(tempValues[i+1])">  
            </line>    
            <circle 
                [attr.cx]="getLineX(i)" 
                [attr.cy]="getTempLineY(value)" 
                r="8">
            </circle>
            <text 
                [attr.x]="getLineX(i)" 
                [attr.y]="getTempLineY(value) - 25"
                dominant-baseline="middle"
                text-anchor="middle"
            >
                {{value}}Â°
            </text>
        </g>
    </svg>
    <svg class="pressure-chart">
        <g *ngFor="let value of pressValues; index as i">
            <line *ngIf="pressValues[i+1]"
                [attr.x1]="getLineX(i)" 
                [attr.y1]="getPressLineY(value)" 
                [attr.x2]="getLineX(i + 1)" 
                [attr.y2]="getPressLineY(pressValues[i+1])">  
            </line>    
            <circle 
                [attr.cx]="getLineX(i)" 
                [attr.cy]="getPressLineY(value)" 
                r="8">
            </circle>
            <text 
                [attr.x]="getLineX(i)" 
                [attr.y]="getPressLineY(value) - 25"
                dominant-baseline="middle"
                text-anchor="middle"
            >
                {{value}} hPa
            </text>
        </g>
    </svg>
</div>
